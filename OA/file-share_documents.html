<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>3文档-5公共文档</title>
    <link rel="stylesheet" href="../public/css/reset.css">
    <link rel="stylesheet" href="../public/layui/css/layui.css">
    <link rel="stylesheet" href="css/back.css">
    <link rel="stylesheet" href="css/file.css">
    <link rel="stylesheet" href="font/icon_font.css">
    <script src="../public/js/jquery-3.2.1.js"></script>

</head>
<body class="layui-layout-body">
<div class="layui-layout layui-layout-admin">
    <div class="layui-header">
        <div class="layui-logo">

            <img src="img/logo-01.png" alt="logo">
        </div>

        <ul class="layui-nav top layui-layout-right">
            <li class="layui-nav-item">
                <a href="javascript:;">
                    <img src="http://t.cn/RCzsdCq" class="layui-nav-img">
                    云淡风清
                </a>
                <dl class="layui-nav-child">
                    <dd><a href="">基本资料</a></dd>
                    <dd><a href="">安全设置</a></dd>
                </dl>
            </li>
            <li class="layui-nav-item"><a href="#"> <img class="ies" src="img/index-001.png" alt="ok"></a>
            </li>
            <li class="layui-nav-item">
                <a href="#"><img class="ies" src="img/index-002.png" alt="no"> </a>
            </li>
        </ul>
    </div>

    <div class="layui-side layui-bg-black">
        <div class="layui-side-scroll">
            <!-- 左侧导航区域（可配合layui已有的垂直导航） -->
            <ul class="layui-nav layui-nav-tree"  lay-filter="test">
                <li class="layui-nav-item  "><a href="">首页</a></li>
                <li class="layui-nav-item ">
                    <a class="" href="javascript:;">流程审批</a>
                    <dl class="layui-nav-child">
                        <dd><a href="javascript:;">新建流程</a></dd>
                        <dd><a href="javascript:;">待办事宜</a></dd>
                        <dd><a href="javascript:;">已办事宜</a></dd>
                        <dd><a href="javascript:;">流程监控</a></dd>
                        <dd><a href="javascript:;">流程设置</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item layui-nav-itemed">
                    <a href="javascript:;">文档管理</a>
                    <dl class="layui-nav-child">
                        <dd ><a href="javascript:;">个人文档</a></dd>
                        <dd class="layui-this"><a href="javascript:;">公共文档</a></dd>
                        <dd><a href="">共享空间</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item ">
                    <a href="javascript:;">通讯管理</a>
                    <dl class="layui-nav-child">
                        <dd><a href="javascript:;">列表一</a></dd>
                        <dd><a href="javascript:;">列表二</a></dd>
                        <dd><a href="">超链接</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item ">
                    <a href="javascript:;">人事管理</a>
                    <dl class="layui-nav-child">
                        <dd><a href="javascript:;">人事信息</a></dd>
                        <dd><a href="javascript:;">通讯录</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item ">
                    <a href="javascript:;">任务管理</a>
                    <dl class="layui-nav-child">
                        <dd><a href="javascript:;">日常事务</a></dd>
                        <dd><a href="javascript:;">工作计划</a></dd>
                        <dd><a href="">工作日志</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item">
                    <a href="javascript:;">资源管理</a>
                    <dl class="layui-nav-child">
                        <dd><a href="javascript:;">车辆管理</a></dd>
                        <dd><a href="javascript:;">办公用品管理</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item ">
                    <a href="javascript:;">会议管理</a>
                    <dl class="layui-nav-child">
                        <dd><a href="javascript:;">会议室管理</a></dd>
                        <dd><a href="javascript:;">会议申请</a></dd>
                        <dd><a href="#">会议查询</a></dd>
                        <dd><a href="#">会议管理</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item">
                    <a href="javascript:;">信息中心</a>
                    <dl class="layui-nav-child">
                        <dd><a href="javascript:;">列表一</a></dd>
                        <dd><a href="javascript:;">列表二</a></dd>
                        <dd><a href="">超链接</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item">
                    <a href="javascript:;">系统管理</a>
                    <dl class="layui-nav-child">
                        <dd><a href="javascript:;">列表一</a></dd>
                        <dd><a href="javascript:;">列表二</a></dd>
                        <dd><a href="">超链接</a></dd>
                    </dl>
                </li>
                <li class="layui-nav-item"><a href="">云市场</a></li>

            </ul>
        </div>
    </div>

    <div class="layui-body">
        <div class="nav-top">
            <ul class="top_nav">
                <li class="layui-btn layui-btn-radius layui-btn-primary"><a href="#" class="ble">公共文档  </a> <a href="#"><i class="layui-icon">&#x1006;</i></a>  </li>

            </ul>
        </div>
        <!-- 内容主体区域 -->
        <div class="con">

                <form action="" class="layui-form up">
                    <div class="layui-form-item">

                        <button type="button" class="layui-btn upload blue layui-btn-normal"> <i class="iconfont icon-shangchuan"></i>文件上传</button>


                        <button type="button" class="layui-btn create blue layui-btn-normal"> <i class="iconfont icon-wenjianjia"></i>创建文件夹</button>

                        <p class="fie">
                        <a href="#">
                            <button type="button" class="layui-btn blue"><i class="iconfont icon-xiazai"></i>
                              下载
                            </button>
                        </a>
                            <a href="#"> <button type="button" class="layui-btn  blue">
                                <i class="iconfont icon-3"></i>
                                删除
                            </button></a>

                        <a href="#"> <button type="button" class="layui-btn  blue">
                            重命名
                            </button></a>
                            <a href="#"> <button type="button" class="layui-btn  blue">
                            权限设置
                            </button></a>
                        </p>
                            <div class="layui-input-inline">
                                <input type="text" name="title" required  lay-verify="required" placeholder="按关键词搜索文件" autocomplete="off" class="layui-input">
                                <button class="layui-btn blue" lay-submit lay-filter="formDemo">搜索</button>
                            </div>



                    </div>

                </form>

            <i class="iconfont fanhuishangyiji"></i>
            <hr class="layui-bg-gray">
            <h2> <a href="#">  <i class="iconfont icon-fanhuishangyiji"></i>返回上一级</a><span>全部文件</span> <i>&gt;</i><span>新建文件夹</span></h2>
            <table class="layui-table file" lay-even lay-skin="nob" >
                <colgroup>
                    <col width="10%">
                    <col width="50%">
                    <col width="20%">
                    <col width="20%">
                    <col>
                </colgroup>
                <thead>
                <tr>
                    <th>
                        <input type="checkbox" class="check all">
                    </th>
                    <th>文件名称</th>
                    <th>大小</th>
                    <th>更新时间</th>
                </tr>
                </thead>
                <tbody>
                <tr>
                    <td>
                        <input type="checkbox" class="check">
                    </td>
                    <td> <i class="layui-icon file">&#xe622;</i> <a href="#">我的文档</a></td>
                    <td>--</td>
                    <td>2018-01-02 16:23</td>
                </tr>
                <tr>
                    <td>
                        <input type="checkbox" class="check">
                    </td>
                    <td> <i class="layui-icon file">&#xe7a0;</i> <a href="#">我的图片</a></td>
                    <td>--</td>
                    <td>2018-01-02 16:23</td>
                </tr>

                </tbody>
            </table>


        </div>



    </div>

    <div class="layui-footer">
        <!-- 底部固定区域 -->
        © layui.com - 底部固定区域
    </div>
</div>
<script src="../public/layui/layui.all.js"></script>
<script>
    //JavaScript代码区域
    layui.use('element', function(){
        var element = layui.element;

    });




    $(function () {

        // 判断是否选中

        $('.layui-table.file').on('click','.check',function () {
            $(this).is(':checked');
            if ($(this).is(':checked')){
                $('.fie').css('display','inline-block')
            }else {
                $('.fie').css('display','none')
            }
        });
        // 全选
        $('.layui-table.file').on('click','.check.all',function () {
            $(this).is(':checked');
            if ($(this).is(':checked')){
                $('.fie').css('display','inline-block');

                $('.check').attr('checked','true')
            }else {
                $('.fie').css('display','none');
// 取消全选
                $('.check').removeAttr('checked')

            }
        });


// 创建文件夹
        $('.con').on('click','.layui-btn.create',function () {

            var html = '<form action="" class="layui-form create">\n' +
                '                <div class="layui-form-item">\n' +
                '                    <label class="layui-form-label">文件件名称</label>\n' +
                '                    <div class="layui-input-inline">\n' +
                '                        <input type="text" name="title" required  lay-verify="required" placeholder="新建文件夹" autocomplete="off" class="layui-input">\n' +
                '\n' +
                '                    </div>\n' +
                '                    <div class="layui-form-item">\n' +
                '                        <button class="layui-btn blue" lay-submit lay-filter="formDemo">创建</button>\n' +
                '                        <button type="button" class="layui-btn blue cancel">取消</button>\n' +
                '\n' +
                '                    </div>\n' +
                '                </div>\n' +
                '            </form>';
            //页面层

        var index  = layer.open({
                type: 1,
                title: '创建文件夹',
                skin: 'layui-layer-rim', //加上边框
                area: ['420px', '240px'], //宽高
                content: html
            });

        $('.cancel').click(function () {
            layer.close(index)
        })
        });

           /* // 上传
            layui.use('upload', function(){


                var $ = layui.jquery
                    ,upload = layui.upload;

                //选完文件后不自动上传
                upload.render({
                    elem: '#test8'
                    ,url: '/upload/'
                    ,auto: false
                    //,multiple: true
                    ,bindAction: '#test9'
                    ,done: function(res){
                        console.log(res)
                    }
                });
            });*/

        //上传
        $('.con').on('click','.layui-btn.upload',function () {

            var html = ' <div class="uld">\n' +
                '\n' +
                '\n' +
                '            <table class="layui-table upload" lay-skin="line">\n' +
                '                <colgroup>\n' +
                '                    <col width="30% ">\n' +
                '                    <col width="10% ">\n' +
                '                    <col width=" 35%">\n' +
                '                    <col width="20% ">\n' +
                '                    <col width="5%">\n' +
                '                    <col>\n' +
                '                </colgroup>\n' +
                '\n' +
                '                <tbody>\n' +
                '                <tr>\n' +
                '                    <td><i class="layui-icon file">&#xe60d;</i>  123.png </td>\n' +
                '                    <td>23KB</td>\n' +
                '                    <td>全部文件夹/新建文件夹</td>\n' +
                '                    <td>等待上传</td>\n' +
                '                    <td> <a href="#"><i class="layui-icon">&#x1006;</i></a></td>\n' +
                '                </tr>\n' +
                '                <tr>\n' +
                '                    <td><i class="layui-icon file">&#xe60d;</i>  123.png </td>\n' +
                '                    <td>23KB</td>\n' +
                '                    <td>全部文件夹/新建文件夹</td>\n' +
                '                    <td>等待上传</td>\n' +
                '                    <td><a href="#"><i class="layui-icon ">&#x1006;</i></a></td>\n' +
                '                </tr>\n' +
                '\n' +
                '                </tbody>\n' +
                '            </table>\n' +
                '                <hr class="layui-bg-gray">\n' +
                '\n' +
                '\n' +
                '                    <div class="layui-upload">\n' +
                '\n' +
                '\n' +
                '<p class="p1">\n' +
                '    <button type="button" class="layui-btn layui-bg-orange" id="test8">选择文件</button>\n' +
                '\n' +
                '</p>\n' +
                '\n' +
                '\n' +
                '                    <p class="p2">\n' +
                '                        <button type="button" class="layui-btn blue" id="test9">上传</button>\n' +
                '                        <button  class="layui-btn cancel2 blue">取消</button>\n' +
                '                    </p>\n' +
                '\n' +
                '                </div>\n' +
                '            </div>';
            //页面层


            var index2  = layer.open({
                type: 1,
                title: '上传文件',
                skin: 'layui-layer-rim', //加上边框
                area: ['520px', '240px'], //宽高
                content: html
            });

            // });
            $('.cancel2').click(function () {
                layer.close(index2)
            })
        });



        //共享
        $('.con').on('click','.layui-btn.shar',function () {

            var html = '<div class="share">\n' +
                '                <div class="share_left">\n' +
                '                    <h3>选择共享人</h3>\n' +
                '                    <dl>\n' +
                '                        <dt> <i class="iconfont icon-jian"></i>行政部</dt>\n' +
                '                        <dd class="show">\n' +
                '                            <i class="layui-icon">&#xe612;</i>王芳\n' +
                '                        <span class="zhu">行政主管</span>\n' +
                '                        <input type="checkbox">\n' +
                '                        </dd>\n' +
                '                        <dd class="show">\n' +
                '                            <i class="layui-icon">&#xe612;</i>王芳\n' +
                '                        <span class="zhu">行政主管</span>\n' +
                '                        <input type="checkbox">\n' +
                '                        </dd>\n' +
                '                    </dl>\n' +
                '                    <dl>\n' +
                '                        <dt> <i class="iconfont icon-jia3"></i>人事部</dt>\n' +
                '                        <dd>\n' +
                '                            <i class="layui-icon">&#xe612;</i>王芳\n' +
                '                        <span  class="zhu">hr</span>\n' +
                '                      <input type="checkbox">\n' +
                '                        </dd>\n' +
                '                    </dl>\n' +
                '\n' +
                '                </div>\n' +
                '                <div class="share_right layui-bg-gray">\n' +
                '                    <h3>已选定</h3>\n' +
                '                    <dl>\n' +
                '                        <dd> <span class="che">王芳</span> <a href="#"><i class="layui-icon">&#x1006;</i></a></dd>\n' +
                '                        <dd> <span class="che">刘满金</span> <a href="#"><i class="layui-icon">&#x1006;</i></a></dd>\n' +
                '\n' +
                '                    </dl>\n' +
                '                </div>\n' +
                '\n' +
                '                <div class="layui-form-item">\n' +
                '                    <button class="layui-btn blue" lay-submit lay-filter="formDemo">共享</button>\n' +
                '                    <button type="button" class="layui-btn blue cancel3">取消</button>\n' +
                '                </div>\n' +
                '\n' +
                '            </div> ';
            //页面层

            var index2  = layer.open({
                type: 1,
                title: '设置共享人',
                skin: 'layui-layer-rim', //加上边框
                area: ['520px', '340px'], //宽高
                content: html
            });


            // });
            $('.cancel3').click(function () {
                layer.close(index2)
            })

            // 展开收起

               $('.share').on('click','.icon-jian',function () {
                   $(this).addClass('icon-jia3');
                   $(this).removeClass('icon-jian');

                   $(this).parent().siblings().hide()

               }) ;
            $('.share').on('click','.icon-jia3',function () {
                $(this).removeClass('icon-jia3');
                $(this).addClass('icon-jian');

                $(this).parent().siblings().show()

            });

            // 判断选中
            $('input[type=checkbox]').click(function () {
                if($(this).is(':checked')){
                    $(this).siblings('.layui-icon').css('color','#1B79E0')
                }else {
                    $(this).siblings('.layui-icon').css('color','#A7A7A7')
                }
            });

        });

    })

</script>
</body>
</html>